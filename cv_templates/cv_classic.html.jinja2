<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<style>
  @page { size: A4; margin: 1.5cm; }
  body {
    font-family: Arial, sans-serif;
    line-height: 1.2;
    font-size: {{ font_size | default('11pt') }};
    color: #333;
  }
  h1 { font-size: 18pt; color: {{ colors.primary | default('#003366') }}; margin-bottom: 0.2em; }
  h2 { font-size: 12pt; color: {{ colors.secondary | default('#666') }}; margin-top: 0.5em; margin-bottom: 0.2em; }
  .section { margin-bottom: 0.5em; }
  ul { padding-left: 1em; margin: 0; list-style-type: disc; }
</style>
</head>
<body>

<h1>{{ name }}</h1>
<h2>{{ title }}</h2>
<p>Email: {{ email }} | Tel: {{ phone }}</p>
{% if linkedin %}<p>LinkedIn: {{ linkedin }}</p>{% endif %}
{% if github %}<p>GitHub: {{ github }}</p>{% endif %}
{% if website %}<p>Site: {{ website }}</p>{% endif %}

{% if skills %}
<div class="section">
  <h2>Compétences</h2>
  <ul>
  {% for category, skill_list in skills.items() %}
    <li><strong>{{ category }}:</strong> {{ skill_list | join(', ') }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if experience %}
<div class="section">
  <h2>Expérience</h2>
  <ul>
  {% for exp in experience %}
    <li><strong>{{ exp.position }}</strong> – {{ exp.company }} ({{ exp.start_date }}–{{ exp.end_date }})<br>{{ exp.description }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if education %}
<div class="section">
  <h2>Formation</h2>
  <ul>
  {% for edu in education %}
    <li>{{ edu.degree }} – {{ edu.institution }} ({{ edu.year }})</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if projects %}
<div class="section">
  <h2>Projets</h2>
  <ul>
  {% for proj in projects %}
    <li><strong>{{ proj.name }}</strong>: {{ proj.description }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if certifications %}
<div class="section">
  <h2>Certifications</h2>
  <ul>
  {% for cert in certifications %}
    <li>{{ cert.name }} – {{ cert.year }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if languages %}
<div class="section">
  <h2>Langues</h2>
  <ul>
  {% for lang in languages %}
    <li>{{ lang.language }} – {{ lang.level }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if hobbies %}
<div class="section">
  <h2>Loisirs</h2>
  <p>{{ hobbies | join(', ') }}</p>
</div>
{% endif %}

{% if additional_sections %}
{% for sec in additional_sections %}
<div class="section">
  <h2>{{ sec.title }}</h2>
  <p>{{ sec.content }}</p>
</div>
{% endfor %}
{% endif %}

</body>
</html>
