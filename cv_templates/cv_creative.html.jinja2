<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<style>
  @page { size: A4; margin: 1.2cm; }
  body {
    font-family: 'Calibri', Arial, sans-serif;
    line-height: 1.15;
    font-size: {{ font_size | default('10.5pt') }};
    color: #333;
  }
  h1 {
    font-size: 20pt;
    color: {{ colors.primary | default('#1a73e8') }};
    margin-bottom: 0.2em;
    border-bottom: 2px solid {{ colors.primary | default('#1a73e8') }};
    padding-bottom: 0.2em;
  }
  h2 {
    font-size: 12pt;
    color: {{ colors.secondary | default('#ff5722') }};
    margin-top: 0.5em;
    margin-bottom: 0.2em;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .section { margin-bottom: 0.5em; }
  ul { padding-left: 1em; margin: 0; list-style-type: square; }
  li { margin-bottom: 0.2em; }
  .highlight { background-color: {{ colors.highlight | default('#e0f7fa') }}; padding: 2px 4px; border-radius: 3px; }
</style>
</head>
<body>

<h1>{{ name }}</h1>
<h2>{{ title }}</h2>
<p>Email: <span class="highlight">{{ email }}</span> | Tel: <span class="highlight">{{ phone }}</span></p>
{% if linkedin %}<p>LinkedIn: <span class="highlight">{{ linkedin }}</span></p>{% endif %}
{% if github %}<p>GitHub: <span class="highlight">{{ github }}</span></p>{% endif %}
{% if website %}<p>Site: <span class="highlight">{{ website }}</span></p>{% endif %}

{% if skills %}
<div class="section">
  <h2>Compétences</h2>
  <ul>
  {% for category, skill_list in skills.items() %}
    <li><strong>{{ category }}:</strong> {{ skill_list | join(', ') }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if experience %}
<div class="section">
  <h2>Expérience</h2>
  <ul>
  {% for exp in experience %}
    <li><strong>{{ exp.position }}</strong> – {{ exp.company }} ({{ exp.start_date }}–{{ exp.end_date }})<br>{{ exp.description }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if education %}
<div class="section">
  <h2>Formation</h2>
  <ul>
  {% for edu in education %}
    <li>{{ edu.degree }} – {{ edu.institution }} ({{ edu.year }})</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if projects %}
<div class="section">
  <h2>Projets</h2>
  <ul>
  {% for proj in projects %}
    <li><strong>{{ proj.name }}</strong>: {{ proj.description }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if certifications %}
<div class="section">
  <h2>Certifications</h2>
  <ul>
  {% for cert in certifications %}
    <li>{{ cert.name }} – {{ cert.year }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if languages %}
<div class="section">
  <h2>Langues</h2>
  <ul>
  {% for lang in languages %}
    <li>{{ lang.language }} – {{ lang.level }}</li>
  {% endfor %}
  </ul>
</div>
{% endif %}

{% if hobbies %}
<div class="section">
  <h2>Loisirs</h2>
  <p>{{ hobbies | join(', ') }}</p>
</div>
{% endif %}

{% if additional_sections %}
{% for sec in additional_sections %}
<div class="section">
  <h2>{{ sec.title }}</h2>
  <p>{{ sec.content }}</p>
</div>
{% endfor %}
{% endif %}

</body>
</html>
