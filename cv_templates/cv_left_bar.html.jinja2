<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<style>
  @page { size: A4; margin: 1cm; }
  body {
    font-family: Arial, sans-serif;
    line-height: 1.1;
    font-size: {{ font_size | default('10pt') }};
    color: #333;
    display: flex;
  }
  .sidebar {
    width: 30%;
    border-left: 3px solid {{ colors.primary | default('#003366') }};
    padding-left: 0.5em;
    margin-right: 1em;
  }
  .main { flex: 1; }
  h1 { font-size: 18pt; color: {{ colors.primary | default('#003366') }}; margin-bottom: 0.2em; }
  h2 { font-size: 11pt; color: {{ colors.secondary | default('#666') }}; margin-top: 0.5em; margin-bottom: 0.2em; }
  .section { margin-bottom: 0.5em; }
  ul { list-style: disc; padding-left: 1em; margin: 0; }
</style>
</head>
<body>

<div class="sidebar">
  {% if skills %}
  <div class="section">
    <h2>Compétences</h2>
    <ul>
      {% for category, skill_list in skills.items() %}
        <li><strong>{{ category }}:</strong> {{ skill_list | join(', ') }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if certifications %}
  <div class="section">
    <h2>Certifications</h2>
    <ul>
      {% for cert in certifications %}
        <li>{{ cert.name }} – {{ cert.year }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if hobbies %}
  <div class="section">
    <h2>Loisirs</h2>
    <p>{{ hobbies | join(', ') }}</p>
  </div>
  {% endif %}
</div>

<div class="main">
  <h1>{{ name }}</h1>
  <h2>{{ title }}</h2>
  <p>Email: {{ email }} | Tel: {{ phone }}</p>
  {% if linkedin %}<p>LinkedIn: {{ linkedin }}</p>{% endif %}
  {% if github %}<p>GitHub: {{ github }}</p>{% endif %}
  {% if website %}<p>Site: {{ website }}</p>{% endif %}

  {% if experience %}
  <div class="section">
    <h2>Expérience</h2>
    <ul>
      {% for exp in experience %}
        <li><strong>{{ exp.position }}</strong> – {{ exp.company }} ({{ exp.start_date }}–{{ exp.end_date }})<br>{{ exp.description }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if education %}
  <div class="section">
    <h2>Formation</h2>
    <ul>
      {% for edu in education %}
        <li>{{ edu.degree }} – {{ edu.institution }} ({{ edu.year }})</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if projects %}
  <div class="section">
    <h2>Projets</h2>
    <ul>
      {% for proj in projects %}
        <li><strong>{{ proj.name }}</strong>: {{ proj.description }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if languages %}
  <div class="section">
    <h2>Langues</h2>
    <ul>
      {% for lang in languages %}
        <li>{{ lang.language }} – {{ lang.level }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if additional_sections %}
  {% for sec in additional_sections %}
  <div class="section">
    <h2>{{ sec.title }}</h2>
    <p>{{ sec.content }}</p>
  </div>
  {% endfor %}
  {% endif %}

</div>
</body>
</html>
