<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<style>
  @page { size: A4; margin: 2cm; }
  body {
    font-family: 'Calibri', Arial, sans-serif;
    font-size: {{ font_size | default('11pt') }};
    line-height: 1.25;
    color: #333;
  }
  h1 {
    font-size: 18pt;
    color: {{ colors.primary | default('#1a73e8') }};
    border-bottom: 2px solid {{ colors.primary | default('#1a73e8') }};
    padding-bottom: 2px;
    margin-bottom: 0.8em;
  }
  h2 {
    font-size: 12pt;
    color: {{ colors.secondary | default('#ff5722') }};
    margin-top: 0.5em;
    margin-bottom: 0.2em;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .section {
    margin-bottom: 0.6em;
    padding: 4px 0;
  }
  p { margin: 0.3em 0; }
  .highlight { background-color: {{ colors.highlight | default('#e0f7fa') }}; padding: 2px 4px; border-radius: 3px; }
</style>
</head>
<body>

<h1>Lettre de motivation</h1>

<p>{{ date | default('') }}</p>
<p>{{ recipient_name | default('') }}<br>{{ recipient_position | default('') }}<br>{{ company | default('') }}</p>

{% if opening %}
<div class="section">
  <p>{{ opening }}</p>
</div>
{% endif %}

{% if motivation %}
<div class="section">
  <h2>Motivation</h2>
  <p>{{ motivation }}</p>
</div>
{% endif %}

{% if experience %}
<div class="section">
  <h2>Expérience</h2>
  <p>{{ experience }}</p>
</div>
{% endif %}

{% if skills %}
<div class="section">
  <h2>Compétences</h2>
  <p>{{ skills | join(', ') }}</p>
</div>
{% endif %}

{% if projects %}
<div class="section">
  <h2>Projets</h2>
  <p>{{ projects | join('; ') }}</p>
</div>
{% endif %}

{% if closing %}
<div class="section">
  <p>{{ closing }}</p>
</div>
{% endif %}

<p>{{ sender_name | default(name) }}</p>
<p>Email: <span class="highlight">{{ email }}</span> | Tel: <span class="highlight">{{ phone }}</span></p>
{% if linkedin %}<p>LinkedIn: {{ linkedin }}</p>{% endif %}
{% if github %}<p>GitHub: {{ github }}</p>{% endif %}
{% if website %}<p>Site: {{ website }}</p>{% endif %}

{% if additional_sections %}
{% for sec in additional_sections %}
<div class="section">
  <h2>{{ sec.title }}</h2>
  <p>{{ sec.content }}</p>
</div>
{% endfor %}
{% endif %}

</body>
</html>
